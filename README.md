# openapi_generator_helper

Helper for dynamic generate and install python API client, generated by openapi-generator tool

- Package version: 1.0.0

## Requirements.

Python >= 3.6   
Java >= 8.0 for run openapi-generator-cli

## Installation & Usage

### pip install

```sh
pip install openapi_generator_helper
```

Then import the package:

```python
import openapi_generator_helper
```

## Getting Started

```python
# How to use in tests based on openapi-generator tool
from openapi_generator_helper.openapi_generator import generate_clients, install
import shutil
import pytest
import pathlib


@pytest.fixture(scope='session', autouse=True)
def generate_apis(request):
    # Set path
    base_path = pathlib.Path(__file__).parent
    generator_path = str(base_path.joinpath('openapi-generator-cli-5.1.1.jar'))
    temp_directory = str(base_path.joinpath('apis'))

    # Client API generation
    packages = generate_clients(
        swagger_list=[
            {'url': r'http://service-name.ru/swagger.json', 'package_name': 'service_name'}
        ],
        generator_path=generator_path,
        temp_directory=temp_directory
    )
    
    # Installing libraries in a virtual environment
    install(packages)
    
    # Delete temp directory
    if pathlib.Path(temp_directory).is_dir():
        shutil.rmtree(temp_directory)

```

## Author

```
Menshikov Valeriy
valeriy.menshikov.1989@gmail.com
```